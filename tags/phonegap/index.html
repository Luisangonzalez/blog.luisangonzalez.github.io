<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Tag: phonegap | LuisanGonzalez</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="LuisanGonzalez">
<meta property="og:url" content="http://luisangonzalez.es/tags/phonegap/index.html">
<meta property="og:site_name" content="LuisanGonzalez">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="LuisanGonzalez">
<meta name="twitter:description">
<meta name="twitter:creator" content="@Luisangonzlez">
<link rel="publisher" href="106076558377478950000">
  
    <link rel="alternative" href="/atom.xml" title="LuisanGonzalez" type="application/atom+xml">
  
  
    <link rel="icon" href="/luisangonzalez.ico">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58250004-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


  <script type="text/javascript" src="js/cookiechoices.js"></script>
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LuisanGonzalez</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Developer</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/CV_Luisangonzalez.pdf">Curriculum Vitae</a>
        
      </nav>
      <nav id="sub-nav">
	<a id="nav-github-link" class="nav-icon" href="https://github.com/Luisangonzalez" target="_blank"></a>
	<a id="nav-linkedin-link" class="nav-icon" href="http://www.linkedin.com/pub/luis-antonio-gonz%C3%A1lez-mart%C3%ADn/62/355/724" target="_blank"></a>
	<a id="nav-twitter-link" class="nav-icon" href="https://twitter.com/luisangonzalez" target="_blank"></a>
	<a id="nav-googleplus-link" class="nav-icon" href="https://plus.google.com/u/0/106076558377478942230" target="_blank"></a>
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://luisangonzalez.es"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-arduino-bluetooth-android" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/03/13/arduino-bluetooth-android/" class="article-date">
  <time datetime="2016-03-13T17:05:08.000Z" itemprop="datePublished">Mar 13 2016</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/cordova-phonegap/">cordova/phonegap</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/13/arduino-bluetooth-android/">Conectar placa arduino (bq zum) por Bluetooth en Android</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Con Cordova o Phonegap tenemos la gran ventaja de desarrollar una sola vez y que esta sea compatible para multiple plataformas móviles en las que se encuentran Android y IOS.</p>
<p>Cuando vamos a desarrollar una aplicación que hace uso de elementos nativos de la plataforma, es decir no solo es una capa de presentación web si no que utilizamos elementos físicos como el giroscopio, wifi o bluetooth en la mayoría de los casos nos vemos obligados de utilizar <a href="https://cordova.apache.org/plugins/" target="_blank" rel="external">plugins de cordova/phonegap</a>.</p>
<p>En este caso vamos a utilizar <a href="https://www.npmjs.com/package/cordova-plugin-bluetooth-serial" target="_blank" rel="external">cordova-plugin-bluetooth-serial</a>.</p>
<p>La aplicación de ejemplo consiste en conectar nuestro móvil con una placa Arduino que dispone de modulo de Bluetooth, en este caso <a href="http://www.bq.com/es/placa-zum-core" target="_blank" rel="external">bq zum</a> pero se puede utilizar cualquier otra añadiendo el modulo de Bluetooth.</p>
<p>Para ello:</p>
<ul>
<li>En la placa Arduino conectaremos un LED en el pin 13.</li>
<li>Cargamos el <a href="https://github.com/Luisangonzalez/cordova-bluetooth-serial/blob/master/Arduino/Comunicacion_serie_Bluetooth_Z.ino" target="_blank" rel="external">programa</a> en la placa.</li>
<li><p>El código de la App lo tenemos dispone en el repo de <a href="https://github.com/Luisangonzalez/cordova-bluetooth-serial" target="_blank" rel="external">github</a>.</p>
</li>
<li><p>Nos descagamos el código o hacemos git clone:<br><code>git clone git@github.com:Luisangonzalez/cordova-bluetooth-serial.git</code></p>
</li>
<li>Accedemos al directorio: <code>cd cordova-bluetooth-serial</code></li>
<li>Asumiendo que tenemos <a href="http://developer.android.com/sdk/installing/index.html" target="_blank" rel="external">instalado el SDK de Android</a>.</li>
<li>Con <a href="http://luisangonzalez.es/2016/02/11/instalar-cordova-android-en-ubuntu/">cordova instalado y configurado</a> compilamos la APP:<ul>
<li>Añadimos la plataforma android: <code>$ cordova platform add android</code></li>
<li>Instalamos el plugin bluetooth: <code>$ cordova plugin add cordova-plugin-bluetooth-serial</code></li>
<li>compilamos la app: <code>$ cordova run</code></li>
</ul>
</li>
</ul>
<p>Si observamos el <a href="https://github.com/Luisangonzalez/cordova-bluetooth-serial/blob/master/Arduino/Comunicacion_serie_Bluetooth_Z.ino" target="_blank" rel="external">código Arduino</a> que hemos subido a la placa consiste en estar leyendo constantemente y en el caso de leer “b” encender el led y en caso “c” apagar el led.<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (bluetooth_0.available() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        bluetooth_0.println(<span class="string">"Avaliable"</span>);</span><br><span class="line">        read = bluetooth_0.readString();</span><br><span class="line">        <span class="keyword">if</span> (read == <span class="string">"b"</span> || ledon) &#123;</span><br><span class="line">            bluetooth_0.print(<span class="string">"ON"</span>);</span><br><span class="line">            digitalWrite(led_0, HIGH);</span><br><span class="line">            ledon = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (read == <span class="string">"c"</span> || !ledon) &#123;</span><br><span class="line">            bluetooth_0.print(<span class="string">"OFF"</span>);</span><br><span class="line">            digitalWrite(led_0, LOW);</span><br><span class="line">            ledon = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></p>
<p>En el caso del código de cordova observamos en <a href="https://github.com/Luisangonzalez/cordova-bluetooth-serial/blob/master/www/js/index.js" target="_blank" rel="external">www/js/index.js</a> :</p>
<ul>
<li><p>Al comienzo del archivo en comentarios incluimos las funciones globales como LED13ON y LED13OFF que posterimente indicamos:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span><br><span class="line">global cordova, console, $, bluetoothSerial,refreshButton, deviceList, disconnectButton, connectionScreen, messageDiv, led13ButtonON,led13ButtonOFF</span><br><span class="line">*/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>A parte de las funciones para conectar y emparejar las propias que hemos realizado para enviar “b” para encender el LED:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LED13ON: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  bluetoothSerial.write(<span class="string">"b"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>y “c para apagarlo”:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LED13OFF: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  bluetoothSerial.write(<span class="string">"c"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>En el caso de <a href="https://github.com/Luisangonzalez/cordova-bluetooth-serial/blob/master/www/index.html" target="_blank" rel="external">www/index.html</a>:<br>para hacer uso de las funciones de index.js simplemente añadimos al id de los botones el nombre de las funciones:<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"topcoat-button--large"</span> <span class="attr">id</span>=<span class="string">"led13ButtonON"</span>&gt;</span>LED 13 ON<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"topcoat-button--large"</span> <span class="attr">id</span>=<span class="string">"led13ButtonOFF"</span>&gt;</span>LED 13 OFF<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>Para cualquier enviar comentarios para que os pueda ayudar si me es posible, espero que os haya gustado ;).</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://luisangonzalez.es/2016/03/13/arduino-bluetooth-android/" data-id="cilqvh44b000c5bugfw88wwg1" class="article-share-link">Share</a>
      
        <a href="http://luisangonzalez.es/2016/03/13/arduino-bluetooth-android/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Android/">Android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Arduino/">Arduino</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Cordova/">Cordova</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cordova-phonegap/">cordova/phonegap</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/phonegap/">phonegap</a></li></ul>

    </footer>
  </div>
  
</article>


  
  
</section>
        
          <aside id="sidebar">
 
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo-io/">Hexo.io</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/Ubuntu/">Ubuntu</a><span class="category-list-count">2</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/cordova-phonegap/">cordova/phonegap</a><span class="category-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sublime-text/">    Sublime_text</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Android/">Android</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Arduino/">Arduino</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Blog/">Blog</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Cordova/">Cordova</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo-io/">Hexo.io</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/">Markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sublime-text/">Sublime_text</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Ubuntu/">Ubuntu</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cordova-phonegap/">cordova/phonegap</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npmjs/">npmjs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/phonegap/">phonegap</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Sublime-text/" style="font-size: 10px;">    Sublime_text</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Arduino/" style="font-size: 10px;">Arduino</a> <a href="/tags/Blog/" style="font-size: 10px;">Blog</a> <a href="/tags/Cordova/" style="font-size: 15px;">Cordova</a> <a href="/tags/Hexo-io/" style="font-size: 15px;">Hexo.io</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Sublime-text/" style="font-size: 10px;">Sublime_text</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/cordova-phonegap/" style="font-size: 15px;">cordova/phonegap</a> <a href="/tags/npmjs/" style="font-size: 10px;">npmjs</a> <a href="/tags/phonegap/" style="font-size: 10px;">phonegap</a>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">4</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/03/13/arduino-bluetooth-android/">Conectar placa arduino (bq zum) por Bluetooth en Android</a>
          </li>
        
          <li>
            <a href="/2016/02/28/add-device-android/">Añadir dispositivo para depurar e instalar apps con Android Studio o cordova/phonegap</a>
          </li>
        
          <li>
            <a href="/2016/02/11/instalar-cordova-android-en-ubuntu/">Instalar Cordova Android en Ubuntu 14.04</a>
          </li>
        
          <li>
            <a href="/2015/02/24/Anadir-icono-y-acceso-directo-de-una-aplicacion-en-Ubuntu-gnome-3/">Añadir icono y acceso directo de una aplicación en Ubuntu gnome 3</a>
          </li>
        
          <li>
            <a href="/2015/02/23/Sublime-Text-2-en-Ubuntu-14-04/">Sublime Text 2 en Ubuntu 14.04</a>
          </li>
        
      </ul>
    </div>
  </div>


  
       <!-- twitter start -->
         <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/luisangonzalez" data-widget-id="552546295706308611">Tweets por el @luisangonzalez.</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    

      <!-- ads fin -->
  <!-- ads start -->
          <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- sidebar_A -->
<ins class="adsbygoogle"
     style="display:inline-block;width:300px;height:600px"
     data-ad-client="ca-pub-5032084266728683"
     data-ad-slot="6464840855"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>


    <!-- ads fin -->

</aside>

        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Luisangonzalez  - Política de <a href="http://luisangonzalez.es/cookies.html">cookies.</a>  <br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
  <script src="js/cookiechoices.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function(event) {
      cookieChoices.showCookieConsentBar('Las cookies nos permiten ofrecer nuestros servicios. Al utilizar nuestros servicios, aceptas el uso que hacemos de las cookies',
        'Entendido', 'Más información', 'http://luisangonzalez.es/cookies.html');
    });
  </script>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/CV_Luisangonzalez.pdf" class="mobile-nav-link">Curriculum Vitae</a>
  
</nav>
    
<script>
  var disqus_shortname = 'blogluisangonzalezes';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
